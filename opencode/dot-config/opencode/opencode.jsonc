{
  "$schema": "https://opencode.ai/config.json",

  // UI & defaults
  "theme": "tokyonight",
  // Fallback model for ad-hoc chats (agents below can override)
  "model": "anthropic/claude-3.7-sonnet",
  "autoupdate": true,
  "tools": {
    "bash": true,
    "edit": true,
    "write": true,
    "read": true,
    "grep": true,
    "glob": true,
    "list": true,
    "patch": true,
    "todowrite": true,
    "todoread": true,
    "webfetch": true
  },
  "permission": {
    "bash": "ask",        // Execute shell commands
    "edit": "ask",        // Modify existing files
    "webfetch": "ask"     // Fetch web content
  },

  "agent": {
    "architect": { "model": "openrouter/openai/gpt-5" },
    "code-reviewer": { "model": "anthropic/claude-3.7-sonnet" },
    "debugger": { "model": "anthropic/claude-sonnet-4-20250514" },
    "documentation-writer": { "model": "openrouter/google/gemini-2.5-flash" },
    "orchestrator": { "model": "openrouter/google/gemini-2.5-pro" },
    "product-owner": { "model": "openrouter/google/gemini-2.5-flash" },
    "security-auditor": { "model": "openrouter/openai/o4-mini" },
    "devops-engineer": { "model": "anthropic/claude-3.7-sonnet" },
    "fullstack-go-ts": { "model": "anthropic/claude-sonnet-4-20250514" },
    "web-penetration-tester": { "model": "openrouter/openai/o4-mini" }
  },
  // ===========================
  // MCP Servers
  // ===========================
  "mcp": {
    "code-index-mcp": {
      "type": "local",
      "enabled": true,
      "command": [
        "uvx",
        "--from",
        "code-index-mcp",
        "code-index-mcp",
        "start",
        "--stdio"
      ],
      "environment": {
        // Index the current working directory by default (good for global config)
        "CODE_INDEX_MCP_EMBED_PATH": ".",

        // Optional: tighten scope and reduce noise in big repos
        // "CODE_INDEX_MCP_INCLUDE": "**/*.{ts,tsx,js,jsx,py,go,rs,java,kt,cs,cpp,c,h,md,sql,yaml,yml,json}",
        // "CODE_INDEX_MCP_EXCLUDE": "**/{.git,node_modules,dist,build,.next,.turbo,.venv,.pnpm-store,target,bin,obj,coverage}/**",

        // Optional: persist index cache between sessions
        // "CODE_INDEX_CACHE_DIR": "~/.opencode/code-index-cache"
      }
    }
  }
}
